<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura Scribe | Endometriosis Advocate</title>
    <link rel="stylesheet" href="style.css">
    <!-- Markdown parser for pretty AI responses -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div id="user-button"></div>
    <div id="sign-in-container"></div>
    <button id="menu-toggle-btn">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
    </button>

    <div id="app-content" style="display: none;">
        
        <!-- Panel 1: Quick Actions -->
        <div id="actions-panel">
            <div class="panel-header">
                <h3 class="panel-title">Clinical Tools</h3>
                <button id="close-panel-btn">&times;</button>
            </div>
            <button class="action-btn" data-prompt="Based on my logs, generate a 'Doctor-Ready' clinical summary for my next appointment.">üìÑ Generate Clinical Report</button>
            <button class="action-btn" data-prompt="Analyze my recent symptoms for patterns related to my cycle.">üìä Analyze Symptom Patterns</button>
            <button class="action-btn" data-prompt="What specific medical terminology should I use to describe my current pain to a specialist?">üó£Ô∏è Vocabulary Coach</button>
        </div>

        <!-- Panel 2: Scribe's Log -->
        <div id="tracker-panel">
            <div class="panel-header"><h3 class="panel-title">Symptom Log</h3></div>
            <div id="tracker-form">
                <label>Pain Severity (0-10)</label>
                <input type="range" id="pain-level" min="0" max="10" value="5">
                <div class="pain-labels"><span>Mild</span><span>Severe</span></div>
                
                <label>Key Symptoms</label>
                <div id="symptom-tags">
                    <button class="symptom-tag" data-symptom="Dysmenorrhea">Cramps</button>
                    <button class="symptom-tag" data-symptom="Bloating">Endo Belly</button>
                    <button class="symptom-tag" data-symptom="Fatigue">Fatigue</button>
                    <button class="symptom-tag" data-symptom="Nausea">Nausea</button>
                    <button class="symptom-tag" data-symptom="Sciatica">Leg Pain</button>
                    <button class="symptom-tag" data-symptom="Dyspareunia">Painful Sex</button>
                </div>

                <label>Clinical Notes</label>
                <textarea id="notes" rows="2" placeholder="Triggers, medication taken, impact on work..."></textarea>
                <button id="add-entry-btn">Log Entry</button>
            </div>
            <hr>
            <div id="log-history-wrapper">
                <h4>Recent History</h4>
                <div id="log-history"><p class="empty-state">No entries yet.</p></div>
            </div>
        </div>

        <!-- Panel 3: Custom Chat Interface (Replaces Iframe) -->
        <div id="chat-container">
            <div id="chat-header">
                <h3>Aura Clinical Advocate</h3>
                <span class="status-badge">Powered by Gemini 1.5</span>
            </div>
            <div id="chat-messages">
                <div class="message ai-message">
                    Hello. I am your Aura Scribe. I have access to your symptom logs. How can I help you prepare for your medical care today?
                </div>
            </div>
            <div id="chat-input-area">
                <textarea id="user-input" placeholder="Describe your situation or ask for a report..." rows="1"></textarea>
                <button id="send-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" /></svg>
                </button>
            </div>
        </div>
    </div>
    
    <div id="overlay"></div>
    <script src="script.js"></script>
</body>
</html>
